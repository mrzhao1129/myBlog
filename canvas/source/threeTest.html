<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Three Test</title>
  <style>
    body {
      margin: 0;
    }

    canvas {
      width: 100%;
      height: 100%;
    }
  </style>
</head>

<body>
  <script src="./three.89.js"></script>
  <script>
    // Our Javascript will go here.
    var scene = new THREE.Scene();
    var camera = new THREE.PerspectiveCamera(40, 1 / 1, 3, 1000);

    var renderer = new THREE.WebGLRenderer();
    // renderer.setSize(500, 500);
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);
    // 一个立方体
    // var geometry = new THREE.BoxGeometry(1, 1, 1);
    //第二个立方体
    // var geometry = new THREE.CubeGeometry(1, 1, 1);

    // 用三角形拼接一个立体图形
    var geometry = new THREE.Geometry();
    geometry.vertices.push(
      new THREE.Vector3( -2,  2, 0 ),
      new THREE.Vector3( -2, -2, 0 ),
      new THREE.Vector3(  2, -2, 0 ),
      new THREE.Vector3(  0, 0, -2 ),
    );
    // 三角面数组，用来描述模型中的每个顶点是如何相互连接的。
    geometry.faces.push( 
      new THREE.Face3( 0, 1, 2 ),
      // new THREE.Face3( 3, 2, 0 ),
      new THREE.Face3( 3, 0, 2 ),
      new THREE.Face3( 0, 3, 1 ),
      new THREE.Face3( 3, 2, 1 ),
    );
    // geometry.colors = ['red'];
    // geometry.computeBoundingSphere();

    // var material = new THREE.MeshBasicMaterial({
    //   color: 'whitesmoke'
    // });
    //第二个立方体效果
    var material = new THREE.MeshBasicMaterial({
      color: 0xff0000,
      wireframe: true
    });
    var cube = new THREE.Mesh(geometry, material);
    scene.add(cube);
    //点光源
    var light = new THREE.PointLight( 0xff0040, 1, 50 );
    // light.position.set( 3, 3, 0 );
    scene.add( light );
    //点光源后续
    // var PI2 = Math.PI * 2;
    // var program = function ( context ) {
    //   context.beginPath();
    //   context.arc( 0, 0, 0.5, 0, PI2, true );
    //   context.fill();
    // };
    // var sprite = new THREE.Sprite( new THREE.SpriteCanvasMaterial( { color: 0xff0040, program: program } ) );
    // light1.add( sprite );

    camera.position.z = 10;
    // 用来进行旋转动画
    var render = function () {
      requestAnimationFrame(render);
      var time = Date.now() * 0.0005;
      //cube.rotation.x += 0.005;
      cube.rotation.y += 0.02;
      light.position.x = Math.sin( time * 0.7 ) * 30;
      light.position.y = Math.cos( time * 0.5 ) * 40;
      light.position.z = Math.cos( time * 0.3 ) * 30;

      renderer.render(scene, camera);
    };

    render();
  </script>
</body>

</html>